<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>消息</title>
    <link rel="stylesheet" href="/layui/css/layui.css">
</head>
<body>
<form class="layui-form" action="">
    <div class="layui-form-item layui-form-text" style="margin: 30px; border: 1px lime solid; border-radius: 20px;">
        <div id="content" style="margin: 15px; "></div>
    </div>
    <div class="layui-form-item layui-form-text" style="margin: 30px">
        <textarea placeholder="请输入内容" class="layui-textarea" id="the_textarea"></textarea>
    </div>
    <div class="layui-form-item" style="margin: 30px">
        <button type="submit" id="the_submit" class="layui-btn">回复</button>
        <button type="reset" class="layui-btn layui-btn-primary">重置</button>
    </div>
</form>
<script src="/layui/layui.js"></script>
<script src="/layui/layui.all.js"></script>
<script src="/js/jquery-3.3.1.min.js"></script>
<script>
    id = window.location.href.split('&')[0].split('=')[1];
    state = window.location.href.split('&')[1].split('=')[1];
    if (state != 1) {
        $('#the_textarea').attr("disabled", "disabled");
        $('#the_submit').attr("disabled", "disabled");
    }
    $.ajax({
        type: "POST",
        url: "/message/getMessageByid",
        data: {"id": id},
        dataType: "json",
        success: function (data) {
            $('#content').html(data.content);
        },
        error: function (e) {
            console.log(e);
        }
    });
</script>
</body>
</html>